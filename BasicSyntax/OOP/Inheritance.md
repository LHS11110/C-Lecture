# 상속
상속이란 기존 클래스의 필드와 메소드를 모두 새로운 클래스에게 물려주는 것을 말한다. 이때 기존 클래스를 부모 클래스, 새로운 클래스를 자식 클래스라고 한다. 기존 클래스의 모든 속성을 물려받으면서 자식 클래스에서 새로운 멤버를 가질 수 있기에 확장성을 가지며 코드의 재사용성과 유지 보수에 이점을 가진다.

```cpp
class A
{
public:
    int a;
};


// 클래스 B는 클래스 A를 상속받는다. 이때 접근 제어 지시자는 상속받은 A에 대한 멤버들의 접근 범위를 설정한다.
class B : private A
{
public:
    int b;
};


int main()
{
    B b;
    // b.a = 0; A의 멤버 a는 public이지만 상속받는 과정에서 private로 설정되었기 때문에 접근할 수 없다.

    return 0;
}
```

상속에서 접근 제어 지시자는 모든 멤버들을 해당 지시자로 설정하는 것이 아니다. 부모 클래스의 접근 제어 지시자를 따르는 동시에 자식 클래스에서는 이것의 범위를 어디까지 허용할 것인지 명시하는 것이다. 자세한 내용은 아래와 같다. 단 부모 클래스의 멤버는 `public`이나 `protected`로 설정된 멤버들을 말한다.
- `private`: 부모 클래스의 멤버들은 자식 클래스 내에서만 사용할 수 있다. 따라서 외부 함수나 현재 자식 클래스를 상속받는 또 다른 자식 클래스에서는 해당 멤버에 접근할 수 없다.
- `protected`: 부모 클래스의 멤버들은 `자식 클래스`와 `자식 클래스를 상속받는 또 다른 자식 클래스`까지만 접근할 수 있다.
- `public`: 부모 클래스에서 설정한 접근 제어 지시자를 그대로 따른다. 따라서 `public` 멤버들은 `모든 곳`에서 사용할 수 있고, `protected` 멤버들은 `자식 클래스를 상속받는 또 다른 자식 클래스`까지만 접근할 수 있다.

위 내용을 토대로 하나의 예를 들자면 `private`으로 설정된 멤버를 `public`으로 상속받더라도 기존의 접근 제어 지시자가 더 좁은 범위에 해당하므로 접근할 수 없다.
상속은 부모 클래스의 멤버를 전부 물려받는다. 때문에 자식 클래스의 생성자는 부모 클래스의 생성자를 호출하여 상속된 멤버 변수들을 초기화해야 한다.

```cpp
class A
{
public:
    int a;


    A(int num)
        : a(num)
    {

    }
};


class B : private A
{
public:
    int b;


    B()
        : A(0), b(0)
    {

    }
};


int main()
{
    B b;

    return 0;
}
```

## 자식 클래스 객체 생성 과정
- 객체 생성 과정과 마찬가지로 정적 멤버 변수와 메소드들은 이미 메모리에 할당되어 있다.
1. 부모 클래스의 공간 + 자식 클래스의 공간만큼을 메모리 공간에 할당한다.
2. 자식 클래스의 생성자가 호출된다.
3. 멤버 이니셜라이저에 의해 자식 클래스의 생성자 몸체가 실행되기 전에 먼저 부모 클래스의 생성자가 호출된다.
4. 부모 클래스의 멤버 이니셜라이저가 실행된다.
5. 부모 클래스의 생성자 몸체가 실행된다.
6. 자식 클래스의 생성자 몸체가 실행된다.