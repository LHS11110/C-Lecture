# 객체 지향
- 객체 지향이란 프로그램 구현에 객체를 사용하여 상호작용하는 방식을 말한다. 객체는 모두 정렬되지 않은 멤버 변수와 멤버 함수(메소드)를 가진다.
# 객체
- 속성을 가지며 물리적 또는 추상적 의미로 존재하는 식별 가능한 것
- 프로그래밍에서 쓰이는 의미가 아닌 사람이 실제로 인식하고 구별할 수 있는 무언가를 말한다.
# 클래스
- 객체를 구성하는 틀 또는 구조를 말한다.
- 변수 또는 메소드들의 집합으로 정의된다.
# 인스턴스
- 클래스를 통해 메모리에 실체화된 객체를 말한다.
- 클래스를 통해 메모리에 실체화되는 것을 클래스의 인스턴스화라고 한다.
# Class
C++의 객체 지향에는 class라는 키워드를 통해 구현된다. class는 사용자 정의 자료형으로 여러 자료형을 사용자 정의대로 나열할 수 있으며 메소드라는 멤버 함수를 선언할 수도 있다.

```cpp
class MyClass
{
public:
    int num;
    char c;
};
```

제일 기본적인 형태이다. 구조체와 비슷하며 struct 키워드 대신 class를 사용하고, 접근 제어 지시자를 사용해 해당 멤버의 접근 범위를 명시할 수 있다.
사실 class는 구조체(struct)와 다를게 없다. 구조체 또한 C에서는 없었지만 C++에서는 접근 제어 지시자를 사용할 수 있고 메소드 또한 선언이 가능하다.
접근 제어 지시자를 명시하지 않으면 `class`는 기본으로 `private`을 사용하고 `struct`는 `public`을 사용한다.
위 코드에서 작성된 클래스는 구조체와 다를게 없다.

```cpp
MyClass obj;
```

위 코드는 인스턴스를 생성하는 코드이다.
## 접근 제어 지시자
- 멤버의 접근 범위를 명시한다.
- `private`: 여기에 포함된 멤버는 오직 해당 클래스의 메소드를 통해서만 접근이 가능하다.
- `protected`: 해당 클래스 또는 상속된 클래스의 메소드를 통해서만 접근이 가능하다. 상속은 나중에 다루겠다.
- `public`: 모든 함수 또는 메소드에서 접근이 가능하다.
## 멤버 변수
- 구조체의 멤버 변수와 다를게 없다. 위 코드에서 `num`과 `c`라는 변수가 멤버 변수이다.

```cpp
// 멤버 변수 접근 코드
obj.num = 10;
obj.c = 'a';
```
## 메소드
- 멤버 함수라고도 하며, 클래스 내부에 선언된다.

```cpp
class MyClass
{
public:
    int num;
    char c;

    // 메소드 add 선언 및 정의
    int add(void)
    {
        return num + c;
    }
};
```

- MyClass 내부에 `add`라는 메소드를 선언 및 정의하는 코드이다. 해당 메소드는 4바이트 정수형 변수 `num`에서 1바이트 문자(정수)형 변수 `c`를 더한 값을 반환한다.
- `add`라는 메소드와 `num`, `c`라는 멤버 변수들은 모두 `public`으로 설정되어 있기 때문에 모든 외부 함수에서도 접근할 수 있다.

```cpp
// 메소드 호출 코드
obj.add();
```
## 생성자
- 클래스의 인스턴스화에는 멤버 변수를 초기화하는 과정이 필요하다. 초기화는 생성자라는 함수를 호출하여 이뤄지는데, 객체를 선언하면 해당 객체는 생성자라는 함수를 호출한다. 생성자는 인스턴스화에 무조건 필요한 개념으로 생성자가 없으면 컴파일러가 이를 자동으로 넣어 기본 생성자를 호출하도록 만든다. 이러한 생성자를 호출하지 않을 경우 이는 객체라고 할 수 없다. 또한 접근 제어 지시자를 `public`으로 해야 한다.

```cpp
MyClass obj; // 선언된 객체는 암시적으로 생성자를 호출하게 된다.
MyClass obj = MyClass(); // 명시적으로 생성자를 호출하는 코드
```

- 두 코드 모두 생성자를 호출한다.

```cpp
class MyClass
{
public:
    // 생성자
    MyClass()
    {

    }

    ...
};
```

- 생성자는 클래스의 식별자와 같은 이름을 사용하며 반환 타입을 명시하지 않는다. 따라서 반환값이 없다.
- 객체는 상황에 따라 다양한 생성자를 호출한다.
- 생성자가 선언되지 않은 코드는 컴파일러가 자동으로 생성자를 넣는데, 이를 암시적 생성자라고 한다.
- 생성자는 매개변수의 개수나 타입이 다른 경우 오버로드가 가능하다.
### 기본 생성자
기본 생성자는 매개변수가 없는 생성자를 말한다. 사용자가 선언할 수도 있지만 그렇지 않은 경우 컴파일러는 기본 생성자를 자동으로 넣는다. 기본 생성자는 멤버 변수들을 기본 값으로 초기화한다. 예로 int나 char, float등은 0으로 초기화한다.

```cpp
class MyClass
{
private:
    int num;
    static int count;
public:
    // 기본 생성자
    MyClass()
        : num(0) // 멤버 이니셜라이저
    {
        count++;
    }

    ...
};
int MyClass::count = 0;
```

#### 멤버 이니셜라이저
생성자에 작성될 수 있는 문법으로 콜론(:)과 컴마로 구분된 멤버들을 괄호로 초기값을 명시하여 사용한다. 멤버 이니셜라이저는 멤버들이 선언된 동시에 초기화될 수 있도록 한다.

```cpp
class MyClass
{
private:
    const int num;
public:
    MyClass()
        : num(0)
    {
        // num = 0; Error!
    }
};
```

위 코드처럼 원래 상수는 선언과 초기화가 동시에 이루어져야 한다. 하지만 멤버 변수는 초기화가 생성자에서 이루어지는데 멤버 이니셜라이저는 이 문제를 해결할 수 있다.
## 객체 생성 과정
1. 정적 멤버 변수와 메소드가 선언 및 정의된다.
2. 객체의 필요한 공간을 할당하고 생성자를 호출한다. 이때 생성자는 멤버 이니셜라이저를 통해 초기화한다.
## 소멸자
객체는 생성자를 통해 인스턴스화된다면 필요없는 시점에 이를 다시 반환하는 소멸자를 호출해야 한다. 소멸자는 대부분의 상황에서는 다룰 일이 없지만 동적 할당이라는 개념에서는 함께 사용되야 한다.

```cpp
class MyClass
{
private:
    int num;
public:
    MyClass()
        : num(0)
    {
    }

    ~MyClass()
    {
    }
};
```

소멸자 또한 반환 타입을 명시하지 않으며 물결표(~)와 클래스 이름을 사용한다. 소멸자는 반환되는 시기에 자동으로 호출된다.

```cpp
void func(void)
{
    MyClass obj;

    ...

    return; // 함수가 끝나는 시점에서 obj의 소멸자가 호출된다.
}
```