# 자료형
## 파생 자료형
### 배열
- 배열은 단순히 어떤 것을 나열한 것을 말한다.
- 배열을 사용하고 싶으면 사용할 자료형과 이름을 명시하고 그 뒤에 대괄호와 배열의 크기를 적는다.
- 정수형 배열을 사용하고 싶으면 다음과 같은 형태로 사용한다.

```cpp
int arr[10]; // 10개의 정수 자료를 가지고 있는 배열 arr, arr은 Array의 줄임말이다.
arr = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }; // 배열에 10개의 정수형 값들을 저장
arr[0] = 2; // 배열의 값들을 원소라고 하며 원소에 접근할 땐 대괄호와 0부터 시작하는 인덱스를 사용해 접근한다.
// 위 코드 실행 결과, arr의 원소들은 다음과 같다. { 2, 2, 3, 4, 5, 6, 7, 8, 9, 10 }
```

- Index: 색인이라는 의미로 C++의 배열에서는 몇번째 원소를 의미한다.
- 중괄호 안에 원소들을 컴마(,)로 구분하고 자료형에 맞는 값들을 넣으면 해당 값들이 배열에 할당된다. 단 배열과 크기가 같아야 한다.
- 문자열도 배열을 사용한다. 문자를 나타내는 char를 배열로써 나열하면 그것이 문자열이다.
- 문자열은 중괄호를 사용할 수 있고 쌍따옴표(")를 사용하여 배열에 할당할 수 있다.

```cpp
char str[5] = { 'a', 'b', 'c', 'd', '\0' };
str = "abcd"; // 쌍따옴표를 사용한 문자열은 널 문자를 자동으로 삽입한다.
```

#### NULL 문자
- 널 문자는 문자열의 끝을 의미한다.
- 문자열 중간에 널 문자가 존재하면, 최초로 등장하는 널 문자까지만 출력하게 된다.
- 널 문자가 없다면 널 문자가 나올 때까지 출력하게 된다.
- 널 문자는 ```\0```로 표현한다.
### 함수
- 함수는 변수처럼 자료형을 명시하고 괄호를 사용한다는 것 이외에 더 작성할 것이 있는데, 매개변수와 코드블럭이다.
- 코드블럭은 중괄호({}) 안에 코드들이 들어있는 것을 말한다. 함수 몸체라고도 한다.
- 함수의 자료형은 반환 타입을 의미하고 매개변수는 괄호 안에 들어간다.
- 또한 return이라는 예약어를 알아야 하는데 이는 아래 코드를 통해 알아보자.

```cpp
// 기본적으로 함수는 아래와 같은 형태로 작성된다.
[반환 타입] 식별자(매개변수, ...)
{
    ...
}

// 아래는 아무것도 받지 않고 아무것도 반환하지 않는 함수이다. func는 function의 줄임말이다.
void func(void)
{
    return; // 여기서 return은 그 무엇도 반환하지 않는다.
}

// add라는 이름의 함수로 정수형 매개변수 2개를 받고 정수형 값을 반환한다.
int add(int a, int b)
{
    return a + b; // 매개변수 a와 매개변수 b를 더하고 그 값을 반환한다.
}

// 실수형 매개변수 1개를 받고 실수형 값을 반환하는 함수이다.
// func라는 이름을 한번 더 사용하는데 C++은 매개변수의 개수와 각각의 타입이 다른 경우 서로 다른 함수로 취급한다.
double func(double x)
{
    double y = 2 * x; // 실수형 변수 y를 생성하는 동시에 x라는 변수에 들어있는 값에 2를 곱한 후 저장한다.
    return y; // 변수 y의 값을 반환한다.
}
// 위 함수처럼 여러줄의 코드로 이루어진 함수를 작성할 수 있다.
```

- return은 반환을 의미하며 반환 타입과 일치하는 자료형만 반환할 수 있다.

#### 전달인자
- 함수에게 넘기는 값을 전달인자라고 한다.
- 함수를 호출하는 코드는 아래와 같다.

```cpp
func();
add(3, 5);
func(1.0);
```

- 함수 호출에서 전달인자로 변수를 사용할 수 있다.

```cpp
int a = 10;
int b = 20;
add(a, b);
```
### 포인터
- 앞서 함수나 변수는 모두 메모리 공간에 존재한다고 하였다. 메모리 공간에 존재하는 모든 것들은 모두 주소를 가진다.
- 이러한 주소를 저장하고 다루는 변수가 있는데 이것을 포인터 변수라고 한다.
- 포인터는 자료형에 ```*```를 사용하여 작성한다.

```cpp
// 포인터 변수 선언 형태
[타입]* 식별자;

int* ptr; // 정수형 포인터 변수 ptr, ptr은 pointer의 줄임말이다.
```

- 위 코드는 정수형 포인터이다. 주소를 가르키는데 자료형은 뭐하러 필요하나 싶지만 여기서 자료형은 아래의 의미를 가진다.

```해당 주소에 접근할 때, 포인터에 명시된 자료형으로서 접근한다.```

- 이해하기 어려우면 아래 코드를 참고하자.

```cpp
int num = 0; // 정수형 변수 num에 0을 저장
int* ptr = &num; // num의 주소를 가르키는 포인터 변수 ptr, 변수의 주소를 나타낼땐 변수의 이름 앞에 &를 작성한다.
*ptr = 10; // 이 코드는 num의 값이 10으로 바뀌는 코드이다.
// 포인터 변수가 가르키는 주소에 접근하려면 포인터 변수 앞에 *을 작성한다.
```

- 위 코드에서 포인터 변수 ptr이 가르키는 주소는 정수형 변수의 주소를 의미하게 된다.
- ```&``` 연산자는 연산 결과로 식별자의 주소를 반환한다.
- ```*``` 연산자는 포인터가 가르키는 주소에 접근한다.
- 자료형은 이러한 의미를 가지기에 해당 주소에 접근하려면 무조건 필요하다.
- 단순히 주소만을 나타내는 포인터도 있는데 이것을 보이드 포인터라고 한다.

```cpp
int num = 0;
void* ptr = &num;
// *ptr = 10; Error!
```

- 반대로 단순히 주소만을 나타내면 접근조차 못하는데 무슨 의미가 있겠나 싶지만 이것을 통해 다양한 것을 구현할 수 있다.
- 포인터는 자료형의 주소를 가르키는 변수이다. 함수 또한 파생 자료형에 속하는데, 때문에 함수를 가르키는 포인터가 존재한다.

```cpp
// 함수 포인터 변수 선언 형태
[반환 타입] (*식별자)(매개변수 타입, ...);

int add(int a, int b)
{
    return a + b;
}

int (*ptr)(int, int) = add; // 함수의 이름은 기본적으로 주소값이다.
ptr(1, 2); // 3
```

- 포인터는 배열 또한 가르킬 수 있다.

```cpp
int a[5] = { 1, 2, 3, 4, 5 };
int* ptr = a; // 배열의 이름은 기본적으로 주소값이다.
ptr[0] = 2; // 포인터 또한 인덱싱을 통해 배열의 원소에 접근한다.
```

- 프로그래밍에서 배열은 포인터와 엄연히 다르지만 프로그램에서 배열과 포인터의 동작은 같다.
### 참조자
- 포인터는 다루기 어려운 편에 속한다. 때문에 좀 더 다루기 쉬운 참조자라는 개념도 존재한다.
- 참조자는 자료형에 ```&```를 작성하여 선언한다.

```cpp
int num = 10;
int& ref = num;
ref = 20; // num의 값이 20으로 재할당된다.
```

- 참조자는 변수의 이름을 하나 더 만드는 것이라 생각해도 된다. 정수형 변수 num에 ref라는 새로운 이름을 하나 더 부여하는 것과 같다.
- ```*```와 ```&``` 연산자는 위치에 따라 그 기능이 달라진다. 예) 주소 접근 연산, 주소 반환 연산

```cpp
int arr[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
int* ptr = arr;
int*& ref_arr = ptr;
```

- 위 코드는 포인터 참조자 변수를 배열 참조자처럼 사용하는 코드이다.
- 변수는 연산자 우선 순위에 주의해야 한다. ```int*&```는 ```&```가 가장 먼저 오기에 참조자이고 ```int*```를 참조하는 변수를 말한다.