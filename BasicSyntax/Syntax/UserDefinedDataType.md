# 자료형
## 사용자 정의 자료형
### 구조체
구조체는 여러 자료형을 사용자 정의대로 나열하는 것이다.
사용자가 자료형을 정의하기 때문에 사용자 정의 자료형이라 한다.
배열과의 차이점은 아래와 같다.
배열은 하나의 자료형만 표현 가능하지만 구조체는 다양한 자료형들이 들어갈 수 있다.
배열은 원소에 접근할 때 인덱싱이라는 연산을 통해 접근하지만 구조체는 멤버변수를 통해 접근한다.
배열과 구조체의 공통점은 원소들이 모두 메모리상에 일렬로 연속되어 존재한다는 것이다.
구조체를 정의하는 코드는 메모리 공간을 사용하지 않는다.

```cpp
// 구조체 정의 형태
struct 식별자
{
    ...
};

struct MyStruct
{
    int num;
    char c;
};
```

- 위는 구조체를 정의하는 방법이다. 구조체를 의미하는 예약어인 struct와 구조체의 이름, 그리고 중괄호를 통해 해당 구조체 안에는 어떤 멤버변수가 있는지 작성한다.
- 구조체의 중괄호 끝에는 항상 세미콜론(;)이 와야 한다.
- 당연하지만 멤버변수는 서로 다른 메모리 공간을 사용한다.
- 위 구조체로 변수를 할당할 경우, 4바이트 정수형 멤버변수와 1바이트 문자형 멤버변수를 사용하기 때문에 총 5바이트의 공간을 사용한다.

```cpp
// 구조체 변수 var
MyStruct var;

// 점 연산자를 통해 MyStruct의 멤버변수인 num에 접근하여 10을 저장
var.num = 10;

// 멤버변수 c에 A라는 문자를 저장
var.c = 'A';
```

- 위는 멤버변수에 접근하는 코드이다.
- 점 연산자는 멤버변수에 접근할 수 있도록 한다.
### 열거체
- 열거체는 정수형 값들에 이름을 할당하는 기능이다.
- 정수형 값들만 사용하기에 따로 자료형을 명시하지 않고 멤버변수와 다르게 세미콜론을 중괄호 끝에만 사용한다.

```cpp
// 열거체 정의 형태
enum 식별자
{
    ...
};

enum Number
{
    ONE = 1,
    TWO = 2
};
```

- 열거체는 위처럼 정의한다. 구조체와 다르게 멤버변수가 존재하지 않고 자료형 또한 작성하지 않아 열거체 이름과 정수의 이름만 존재한다.
- 열거체는 정수형 값에 이름을 부여한다. 이름에 값을 부여하지 않으면 가장 처음부터 0을 기본으로 1씩 증가하여 자동으로 부여한다.

```cpp
enum Number
{
    ONE,
    TWO = 2,
    THREE
};
```

- 위 열거체에서 ONE은 0이 들어가고 TWO부터 2가 들어간다.
- 중간에 할당되지 않으면 전 값에 +1을 한 후 할당한다. 따라서 THREE에는 3이 할당된다.
- 열거체를 사용하는 이유는 가독성 때문이다.

```cpp
Number number = ONE;
```

- 위 코드는 열거체 변수와 값을 할당하는 코드이다. 열거체에 존재하는 이름으로만 할당할 수 있다.
- 열거체에 정의된 이름은 정수형 값을 가지기에 정수형 변수에도 사용할 수 있다.

```cpp
int num = TWO;
```
### 공용체
- 구조체는 멤버변수들이 서로 다른 공간을 사용한다. 하지만 공용체는 가장 큰 공간을 사용하는 멤버변수의 공간을 서로 공유하여 사용한다.

```cpp
// 공용체 정의 형태
union 식별자
{
    ...
};

union MyUnion
{
    int num1;
    double num2;
};
```

- 위 공용체에서는 num2가 가장 큰 메모리 공간을 사용하기에 공용체를 사용하는 변수는 총 8바이트를 가진다.
- 멤버변수 num1에 접근하면 num2가 사용하던 8바이트중 4바이트에 접근하게 된다.
- num2 또한 마찬가지로 num1이 사용하던 4바이트와 나머지 4바이트의 공간으로 총 8바이트 부동소수점을 사용하게 된다.

```cpp
// 공용체 변수 var
MyUnion var;

// 구조체와 마찬가지로 점 연산으로 멤버변수에 접근한다.
var.num2 = 0.01;
var.num1 = 10;
```